/* ===============================================================
   Variables, Base, Reset
   =============================================================== */
:root {
  --brand: #000;                 /* black text and accents     */
  --accent: #F29F05;             /* warm amber for buttons     */
  --bg: #F5F7FA;                 /* light background           */
  --fg: #333;                    /* main text                  */
  --muted: #666;                 /* secondary text             */

  --table-head-bg: #2A2A2A;      /* table header background    */
  --table-head-fg: #F5F5F5;      /* table header text          */

  --radius: 6px;                 /* border-radius everywhere   */
  --spacing: 1rem;               /* global spacing unit        */
  --font-sans: 'Segoe UI', Roboto, Arial, sans-serif;

  --highlight-yellow: #FFF9C4;   /* pale yellow feedback       */

  /* Internet-down theme (strong red that isnâ€™t pure) */
  --inet-red-strong: #dc5e5e;     /* red */
  --inet-red-pale:   #ffebee;     /* very light red (near white) */
}

* { box-sizing: border-box; margin: 0; padding: 0; }
html, body { height: 100%; }

body {
  font-family: var(--font-sans);
  background: var(--bg);
  color: var(--fg);
  line-height: 1.6;
}

/* iOS: prevent auto-zoom on focus */
input, textarea, select { font-size: 16px; }

/* ===============================================================
   Wargame banner treatment (header/nav color shift)
   =============================================================== */
body.wargame header { background: #FFF59D; }
body.wargame .main-nav a { color: #333; }
body.wargame .main-nav a.active { background: #FFF9C4; }

/* ===============================================================
   Sticky Header, Footer, and Main Container
   =============================================================== */
header {
  display: flex;
  flex-wrap: nowrap;          /* prevent header items from wrapping */
  align-items: center;
  justify-content: flex-start;
  position: fixed;
  top: 0; left: 0; right: 0;
  z-index: 1000;
  background: var(--table-head-bg);
  min-height: 2.8em;
  padding: 0;
  /* Ensure nav can scroll by constraining header overflow */
  overflow: hidden;
}

footer {
  text-align: center;
  padding: calc(var(--spacing) / 2);
  color: var(--muted);
  font-size: 0.9em;
  position: fixed;
  bottom: 0; left: 0; right: 0;
  background: var(--bg);
  z-index: 1000;
}

/* ===============================================================
   Footer + Internet status (locked pulses)
   - left/right labels sit midway between edge & copyright
   - background and text pulse together (same speed/ease)
   - when text is darkest (full opacity), background is lightest
   =============================================================== */
/* Apply layout whether footer has an id or not */
#app-footer.app-footer,
footer.app-footer{
  display:grid;
  grid-template-columns:1fr auto 1fr;
  align-items:center;
  gap:.75rem;
  padding:6px 10px;
}
/* accept either ids or classes for the side labels */
#app-footer #inet-left,  footer.app-footer #inet-left,  footer.app-footer .inet-left  { grid-column:1; justify-self:center; }
#app-footer .copy,       footer.app-footer .copy                                      { grid-column:2; justify-self:center; }
#app-footer #inet-right, footer.app-footer #inet-right, footer.app-footer .inet-right { grid-column:3; justify-self:center; }

/* Reserve space for side labels so Â© stays perfectly centered */
#app-footer .inet-msg,
footer.app-footer .inet-msg{
  font-weight:600;
  visibility:hidden;              /* hide but keep layout slot */
  opacity:0;
}
/* Reveal + pulse whenever offline is active by any of our flags */
#app-footer.inet-down .inet-msg,
footer.app-footer.inet-down .inet-msg,
body.offline footer.app-footer .inet-msg{
  visibility:visible;
  animation: inetPulse 2s ease-in-out infinite;
}
@keyframes inetPulse{
  0%,100% { opacity: .35; }
  50%     { opacity: 1; }
}

/* Internet down: strong red that pulses toward white in sync with text */
#app-footer.inet-down,
footer.app-footer.inet-down,
body.offline footer.app-footer{
  color:#000;                                /* readable on pale frames */
  background-color: var(--inet-red-strong);  /* initial state */
  animation: inetBgPulse 2s ease-in-out infinite;
}
@keyframes inetBgPulse{
  0%,100% { background-color: var(--inet-red-strong); }
  50%     { background-color: var(--inet-red-pale);   }
}

/* Radio tab badge when no internet */
.main-nav a[data-tab="radio"].no-inet{
  background:#b00020;
  color:#fff;
}

main.container {
  /* leave room for sticky header + footer */
  padding-top: 3.5rem;   /* match header height */
  padding-bottom: 2.5rem;/* match footer height */
}

.container {
  max-width: 1600px;
  margin: var(--spacing) auto;
  padding: 0 var(--spacing);
}

/* ===============================================================
   Navigation
   =============================================================== */
.hamburger-container {
  display: flex;
  align-items: center;
  margin-left: auto; /* pushes it to the right */
  position: relative;
  height: 100%;
}

#nav-hamburger {
  /* give it a light translucent backdrop so it always stands out */
  background: rgba(255, 255, 255, 0.3);
  border-radius: var(--radius);
  /* half the vertical padding, double the horizontal */
  padding: 0.2em 1.4em;
  border: none;
  font-size: 1.7em;
  line-height: 1;
  cursor: pointer;
  display: flex;
  align-items: center;
  /* let height auto-adjust rather than fill the entire header */
  height: auto;
  /* keep above any background treatments */
  z-index: 1001;
}

.main-nav {
  display: flex !important;
  flex-wrap: nowrap !important;  /* CRITICAL: prevent links from wrapping */
  justify-content: flex-start;
  align-items: center;
  flex: 1 1 0;
  min-width: 0;                  /* allow flex item to shrink below content */
  gap: 0.5rem;
  font-size: 0.9rem;
  position: relative;
  /* Horizontal scrolling */
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;
  padding: 0 0.5rem;
}
.main-nav::-webkit-scrollbar {
  display: none;
}
/* Center nav items only on actual desktop */
@media (min-width: 1024px) and (min-height: 600px) {
  .main-nav {
    justify-content: center;
    overflow-x: visible;
  }
}
.main-nav a {
  color: var(--table-head-fg);
  text-decoration: none;
  padding: 0.4em 0.8em;
  border-radius: var(--radius);
  transition: background 0.15s, color 0.15s;
  display: inline-block;
  white-space: nowrap !important;  /* prevent text wrapping */
  flex-shrink: 0 !important;       /* prevent compression */
}
.main-nav a:hover,
.main-nav a.active {
  background: rgba(255,255,255,0.1);
  color: #fff;
}
/* Backdrop overlay for hamburger menu */
#nav-backdrop {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.4);
  z-index: 9998;
}
#nav-backdrop.visible {
  display: block;
}
/* Hide backdrop only on actual desktop (wide AND tall) */
@media (min-width: 1024px) and (min-height: 600px) {
  #nav-backdrop.visible {
    display: none;
  }
}

/* Dropdown is appended to body via JS; top/right set dynamically */
#nav-dropdown {
  background: #fff;
  border: 1px solid #ccc;
  box-shadow: 0 4px 24px rgba(0,0,0,0.25);
  border-radius: 0.5em;
  min-width: 180px;
  padding: 0.75em 1em;
  z-index: 9999;
  display: none;
  overflow-y: auto;
  overscroll-behavior: contain;
  touch-action: pan-y;
  box-sizing: border-box;
  position: fixed;
  /* top/right set by JS based on hamburger position */
  max-height: calc(100vh - 6rem);
  max-height: calc(100dvh - 6rem);
  width: auto;
  max-width: min(260px, calc(100vw - 0.5rem));
}

/* Landscape - more compact */
@media (orientation: landscape) and (max-height: 500px) {
  #nav-dropdown {
    max-height: calc(100vh - 4rem);
    max-height: calc(100dvh - 4rem);
    padding: 0.5em 0.75em;
    font-size: 0.9em;
  }
}

/* Actual desktop - generous height */
@media (min-width: 1024px) and (min-height: 600px) {
  #nav-dropdown {
    max-height: 80vh;
  }
}

/* Help entry inside hamburger dropdown */
#nav-dropdown #help-open {
  width: 100%;
  margin-top: 6px;
}

#nav-dropdown div {
  font-weight: bold;
  margin-bottom: 0.7em;
}
#nav-dropdown label {
  display: flex;
  align-items: center;
  font-size: 1em;
  padding: 0.2em 0;
  gap: 0.5em;
}
#nav-dropdown input[type="checkbox"] {
  margin: 0 0.5em 0 0;
  width: 1em;
  height: 1em;
}

/* ===============================================================
   Tables
   =============================================================== */
table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background: #fff;
  box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  border-radius: var(--radius);
  overflow: hidden;
  margin-top: var(--spacing);
}
thead { background: var(--table-head-bg); color: var(--table-head-fg); }
th, td { padding: 0.75em 1em; text-align: left; border-bottom: 1px solid #eee; }
tbody tr:hover { background: rgba(30,144,255,0.05); }

/* Queue actions: Pilot Ack gate + menu */
.btn-disabled {
  opacity: .6;
  cursor: not-allowed !important;
}
.queue-actions {
  display: inline-flex; gap: .35rem; align-items: center;
}

/* Icon-sized action links (edit, delete, labels) */
.queue-actions a { text-decoration: none; }

/* Labels â€œbuttonâ€ should look like the emoji buttons (no underline, same scale) */
.labels-btn,
a[data-action="labels"] {
  font-size: 2.0em;         /* match âœï¸ / ğŸ—‘ï¸ scale */
  line-height: 1;
  text-decoration: none;
  color: inherit;
  cursor: pointer;
  vertical-align: middle;
}

/* Inline control cluster beside SEND: consistent spacing/flow */
.q-gate-wrap{
  display:inline-flex;
  gap:.4rem;
  align-items:center;
}

/* Ensure variant-only buttons still get base chrome */
.btn-primary, .btn-secondary, a.btn-primary, a.btn-secondary { 
  display:inline-block; padding: 0.6em 1.2em; border-radius: var(--radius); text-decoration:none; line-height:1.2; border:1px solid transparent;
}
.queue-actions .more {
  position: relative;
}
.queue-actions .more-menu {
  position: absolute; top: 110%; right: 0;
  min-width: 200px; background: #fff; border: 1px solid #ddd;
  border-radius: 6px; box-shadow: 0 6px 24px rgba(0,0,0,.15);
  display: none; z-index: 50; padding: .35rem;
}
.queue-actions .more.open .more-menu { display: block; }
.queue-actions .more-menu button,
.queue-actions .more-menu a {
  display: block; width: 100%; text-align: left; background: #fff;
  border: 0; padding: .4rem .5rem; border-radius: 4px; text-decoration: none; color: inherit;
}
.queue-actions .more-menu button:hover,
.queue-actions .more-menu a:hover { background: #f5f7fb; }

/* Adaptive sizing for flight-list tables (Dashboard/Radio) */
table.ops-flight-table th,
table.ops-flight-table td {
  padding: 0.4em 0.6em;     /* a bit denser */
  white-space: nowrap;      /* prefer single-line cells */
}
/* Let the final column (Remarks) wrap as needed */
table.ops-flight-table tbody td:last-child {
  white-space: normal;
}
/* Keep status skinny & centered */
table.ops-flight-table th.status,
table.ops-flight-table td.status {
  width: 1%;
  text-align: center;
  white-space: nowrap;
}
/* Code column: ultra-compact, monospace */
table.ops-flight-table th.col-code,
table.ops-flight-table td.col-code {
  width: 1%;
  white-space: nowrap;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
}
table.ops-flight-table a.code-link { text-decoration: none; }


/* Row feedback/highlights */
tr.yellow-border { background-color: var(--highlight-yellow); }
tr.green-border  { background-color: #81C784; }
.red-border      { background-color: #f8d7da; }
.blue-border     { background-color: #bbdefb; }
.grey-border     { background-color: #cccccc; }

/* Full-bleed helpers for dashboard/radio tables */
.full-bleed,
body.dashboard .container #dashboard-table > table,
body.radio     .container #radio-table     > table,
#incoming-feedback,
#rb-feedback-container > table {
  position: relative;
  left: 50%;
  width: 100vw;
  margin-left: -50vw;
  margin-right: -50vw;
  box-sizing: border-box;
  padding: 0 1rem; /* gutter */
}

/* ===============================================================
   Forms & Buttons (global)
   =============================================================== */
input, select, textarea, button {
  font-family: var(--font-sans);
  font-size: 1em;
  margin-top: 0.5em;
}
input, select, textarea {
  width: 100%;
  padding: 0.6em;
  border: 1px solid #ccc;
  border-radius: var(--radius);
  transition: border-color 0.2s, background 0.2s;
}
input:focus, select:focus, textarea:focus {
  border-color: var(--accent);
  background: #fff;
  outline: none;
}
button {
  background: var(--accent);
  border: none;
  color: var(--brand);
  padding: 0.6em 1.2em;
  border-radius: var(--radius);
  cursor: pointer;
  transition: filter 0.2s, background 0.2s;
}
button:hover { background: #d68504; }

/* Generic .btn base (works for <a> and <button>) */
.btn,
a.btn {
  display: inline-block;
  padding: 0.6em 1.2em;
  border-radius: var(--radius);
  text-decoration: none;
  line-height: 1.2;
  border: 1px solid transparent;   /* variants set their own border */
}
/* Ensure anchor â€œbuttonsâ€ inherit text color from variants */
a.btn { color: inherit; }

/* Button variants: keep both names for compatibility */
.btn-yellow,
.btn.yellow {
  background: var(--accent);
  border: 1px solid #d68504;
  color: #333;
  padding: .5rem .9rem;
  border-radius: 6px;
  cursor: pointer;
}
.btn.yellow:hover,
.btn-yellow:hover { filter: brightness(1.03); }

.danger { background: #c33 !important; color: #fff !important; }

/* ===============================================================
   Toasts
   =============================================================== */
#toast-container {
  position: fixed; top: 1rem; right: 1rem;
  display: flex; flex-direction: column; gap: 0.5rem;
  z-index: 2000; pointer-events: none;
}
.toast {
  min-width: 200px; padding: 0.75rem 1rem; border-radius: var(--radius);
  color: #fff; opacity: 0; transform: translateX(100%);
  transition: opacity 0.3s ease, transform 0.3s ease;
  pointer-events: auto;
}
.toast.show { opacity: 1; transform: translateX(0); }
.toast.hide { opacity: 0; transform: translateX(100%); }
.toast.success { background: #4caf50; }
.toast.error   { background: #f44336; }
.toast.info    { background: #2196f3; }

/* ===============================================================
   Utility/State
   =============================================================== */
body.offline { background: #ff4242 !important; transition: background 0.3s; }

/* ===============================================================
   Page: Preferences
   =============================================================== */
/* Pull page up under sticky header */
body.preferences { margin: 0 !important; }
/* Less buffer under sticky header on prefs (tightened) */
body.preferences main.container { padding-top: 0.5rem; }

.container.preferences {
  max-width: 600px;
  margin: 2rem auto;
  padding: 0 1rem;
}
.container.preferences form {
  display: grid;
  /* Keep labels from smashing inputs:
     first column has a reasonable min and capped width so long labels wrap */
  grid-template-columns: minmax(200px, 30ch) 1fr;
  column-gap: 1.5rem;
  row-gap: 1rem;
  /* top-align multi-line labels with their fields */
  align-items: start;
}
.container.preferences form > label {
  grid-column: 1;
  justify-self: end;
  text-align: right;
  /* keep huge labels from growing past the column width */
  max-width: 30ch;
  margin: 0;
  font-weight: bold;
}
.container.preferences form > input,
.container.preferences form > select,
.container.preferences form > textarea,
.container.preferences form > button[type="button"] {
  grid-column: 2;
  width: 100%;
}
/* Make helper notes live under the field (not in the label column) */
.container.preferences form > small {
  grid-column: 2;
  margin-top: .25rem;
  color: var(--muted);
}
/* Export/Import/Reset buttons row still center under controls */
.container.preferences form + form button,
.container.preferences form + form + form button {
  justify-self: start;
  margin-top: 0.5rem;
}

/* Flash messages */
body.preferences .flashes {
  list-style: none; padding: 0; margin: 12px 0;
}
body.preferences .flashes li {
  margin: 4px 0; padding: 8px 12px; border-radius: 4px; font-weight: bold;
}
body.preferences .flashes li.error   { background: #ffe5e5; border: 1px solid #cc3333; color: #800; }
body.preferences .flashes li.import  { background: #e5ffe5; border: 1px solid #33aa33; color: #060; }
body.preferences .flashes li.db_reset{ background: #fff0e5; border: 1px solid #ff8800; color: #663300; }

/* default-origin â€œfade redâ€ animation */
@keyframes fadeRed { from { background-color: #ff9999; } to { background-color: #fff; } }
input.fade-red { background-color: #ff9999; animation: fadeRed 4s ease-in-out; }

/* ===============================================================
   Page: Radio
   =============================================================== */
#incoming-form textarea[name="body"] {
  min-height: 8rem;    /* start taller */
  max-height: 50vh;    /* bounded */
  resize: vertical; overflow: auto;
}
.radio-content-box {
  border: 1px solid #000;
  background-color: #eee;
  padding: 0.5em;
  margin-bottom: 1em;
}

/* ===============================================================
   Page: Ramp Boss
   =============================================================== */
.ramp-form-container {
  width: 100%;
  max-width: 600px;
  margin: 0.75rem auto;            /* tightened from 2rem */
  padding: 0 1rem;
  box-sizing: border-box;
}
.ramp-form-container form {
  display: grid;
  grid-template-columns: auto 1fr;
  column-gap: 1.25rem;
  row-gap: 0.6rem;                 /* tighter vertical rhythm */
  align-items: center;
}
.ramp-form-container form > label {
  grid-column: 1;
  justify-self: end;
  margin: 0;
  font-weight: bold;
}
.ramp-form-container form >
  input,
.ramp-form-container form >
  select,
.ramp-form-container form >
  textarea,
.ramp-form-container form >
  .radio-toggle,
.ramp-form-container form >
  .lookup-row,
.ramp-form-container form >
  button[type="button"] {
  grid-column: 2;
  width: 100%;
}
.ramp-form-container input,
.ramp-form-container select,
.ramp-form-container textarea {
  margin-top: 0.25em;              /* slightly tighter */
  padding: 0.5em;                  /* slightly tighter */
}
/* Flight Code input: ensure itâ€™s comfortably wide & readable */
#flight_code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  letter-spacing: 0.02em;
  min-width: 26ch;       /* fits OOOMMDDYYDDDHHMM comfortably (+ wiggle room) */
  flex: 2 1 auto;        /* bias more space to the code input in lookup-row */
}

.ramp-form-container button[type="submit"] {
  grid-column: 1 / -1;
  justify-self: stretch;
  margin-top: 0.75rem;
}

/* Ensure Cargo Weight field can fit at least 6 digits (RESTORED) */
.ramp-form-container .lookup-row input[name="cargo_weight"] { min-width: 12ch; }

/* Radio-toggle */
.ramp-form-container .radio-toggle {
  display: inline-flex;
  border: 1px solid #888;
  border-radius: 4px;
  overflow: hidden;
  margin-top: 0.25rem;             /* keep close to top */
}
.ramp-form-container .radio-toggle input { display: none; }
.ramp-form-container .radio-toggle label {
  padding: 6px 12px; cursor: pointer;
  background: #f0f0f0; color: #333; user-select: none;
  transition: background 0.15s, color 0.15s;
}
.ramp-form-container .radio-toggle label:hover { background: #e0e0e0; }
.ramp-form-container .radio-toggle input:checked + label {
  background: var(--table-head-bg); color: var(--table-head-fg);
}

/* Lookup row helper */
.ramp-form-container .lookup-row { display: flex; gap: 0.5rem; align-items: center; }
.ramp-form-container .lookup-row input { flex: 1; }
.ramp-form-container .lookup-row button { flex: 0 0 auto; }

/* Scanner row: 80/20 split and full-width in ramp forms */
.ramp-form-container .lookup-row.scan-row { display:flex; gap:0.5rem; align-items:center; }
.ramp-form-container .lookup-row.scan-row input { flex: 1 1 80%; width:auto; }
.ramp-form-container .lookup-row.scan-row button.scan-lookup { flex: 0 0 20%; width:auto; }

/* Required field cues */
.ramp-form-container input:required:invalid,
.ramp-form-container select:required:invalid {
  border-color: #d33; background: #ffecec;
}

/* Cargo Weight â€œtoolsâ€ panel */
.cargo-tools-toggle {
  grid-column: 2;
  margin-top: 0.5rem;
  display: flex; gap: 0.5rem;
}
.cargo-tools-panel {
  display: none;
  border: 1px solid #ccc;
  padding: 1rem; margin-top: 1rem;
  background: #fff; border-radius: var(--radius);
  flex-direction: column; align-items: center; text-align: center;
}
/* Full-screen takeover when body.cw-active */
body.cw-active #cargo-tools-panel {
  display: flex !important;
  position: fixed;
  top: 3.5rem;
  left: 50%; transform: translateX(-50%);
  width: min(480px, 90vw);
  bottom: 2.5rem;
  background: var(--bg);
  z-index: 2000;
  padding: 2rem;
  overflow-y: auto;
}
/* Hide the rest of the form during takeover */
body.cw-active .ramp-form-container > :not(#cargo-tools-panel) { display: none !important; }

.cw-button { width: 2.5em; height: 2.5em; border: none; color: #fff; font-size: 1.25em; border-radius: var(--radius); cursor: pointer; }
.cw-minus { background: #d33; }
.cw-plus  { background: #4caf50; }
#cw-change { min-width: 14ch; padding: 0.5em; text-align: right; }
.cw-minus:disabled { background: rgba(211,51,51,0.3); cursor: not-allowed; }
#cw-history { max-height: 8em; overflow-y: auto; margin-bottom: 0.5rem; font-size: 0.9em; color: var(--muted); }
#cw-total { font-weight: bold; margin-bottom: 0.5rem; }

/* Advanced Inventory Panel (Ramp Boss) */
#adv-panel {
  display: none;           /* toggled by JS */
  position: fixed;
  top: 3.5rem; bottom: 2.5rem;
  left: 50%; transform: translateX(-50%);
  width: 80vw;
  overflow-y: auto;
  background: #fff;
  z-index: 1500;
  padding: 2rem;
  border: 1px solid #ccc;
  box-shadow: 0 0 15px rgba(0,0,0,0.2);
  box-sizing: border-box;
}
#ramp-boss-form.hidden { display: none; }

/* ETA block helpers (RESTORED â€“ harmless if #eta_block not present) */
.ramp-form-container form > #eta_block { display: contents; }
.ramp-form-container form > #eta_block > label {
  justify-self: end; font-weight: bold; text-align: right;
}

/* ===============================================================
   Page: Wargame â€“ Role Chooser
   =============================================================== */
.wg-role-form { width: 100%; max-width: 1080px; margin: 0 auto; }
.wg-role-fieldset {
  width: 100%;
  border: 1px solid #ddd;
  border-radius: 12px;
  padding: 12px 16px;
  margin: 0 auto;
  background: #fff;
}

.role-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px,1fr));
  gap: 12px;
  margin: .5rem 0 1rem;
}
.role-card {
  display: block; cursor: pointer;
  border: 1px solid #ddd; border-radius: 8px;
  padding: 0.9rem 1rem; background: #f9fafb;
  transition: box-shadow 120ms ease, background-color 120ms ease, border-color 120ms ease;
  position: relative;
}
.role-card:hover { box-shadow: 0 1px 6px rgba(0,0,0,.06); }
.role-card.selected {
  outline: 2px solid #d1a500;
  background: #fffbe6;
  border-color: #e5cf76;
}
.role-card h3 { margin: 0 0 .25rem 0; font-weight: 600; font-size: 1rem; }
.role-card p  { margin: 0; color: #333; font-size: .9rem; }

/* hide native radios, rely on card selection */
.role-picker input[type="radio"] { position: absolute; left: -9999px; }

/* Supervisor settings panel (if used in chooser) */
.super-panel { margin-top: .5rem; padding-top: .75rem; border-top: 1px solid #eee; }
.super-panel h3 { margin: .25rem 0 .5rem; }
.super-panel .form-row {
  display: grid; grid-template-columns: 260px 1fr;
  align-items: center; gap: .5rem; margin: .35rem 0;
}
.super-panel input[type="number"] { width: 120px; }

/* Optional legacy role grid container */
.wg-chooser {
  max-width: 980px; margin: 0 auto;
  border: 1px solid #ddd; padding: 1rem 1.25rem;
  border-radius: 8px; background: #fff;
}
.role-grid {
  display: grid; gap: 1rem;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
}

/* ===============================================================
   Page: Wargame â€“ Shared Inventory UI (cards/lists/progress)
   =============================================================== */
.wg-intro { margin-bottom: 1rem; }
.wg-sections { display: grid; gap: 1.25rem; grid-template-columns: 1fr; }
@media (min-width: 900px) { .wg-sections { grid-template-columns: 1fr 1fr; } }
.wg-section-title { margin: 0 0 .5rem 0; }

/* Card chrome */
.wg-card {
  border: 1px solid #ddd;
  border-radius: 10px;
  background: #fff;
  box-shadow: 0 1px 2px rgba(0,0,0,.06);
  margin: 0 0 12px 0;
}
.wg-card-header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  padding: .75rem 1rem;
  border-bottom: 1px solid #eee;
  background: #fafafa;
}
.wg-card-title { font-weight: 600; }
.wg-card-meta  { font-size: .9rem; color: #666; }
.wg-badge {
  display: inline-block;
  margin-left: .5rem;
  font-size: .8rem;
  padding: .1rem .45rem;
  border-radius: 999px;
  border: 1px solid #ddd;
  color: #555;
  background: #f6f6f6;
}

/* Lines + progress */
.wg-lines { margin: 0; padding: .5rem 1rem 1rem 1.25rem; list-style: disc; }
.wg-line  { margin: .25rem 0; }
.wg-line.complete { color: #888; text-decoration: line-through; } /* fully satisfied */
.wg-progress { color: #666; font-size: .9rem; }                    /* partial status */

/* Exit Role: right-aligned in normal flow (sits above footer) */
.wg-exit-form {
  display: flex;
  justify-content: flex-end;
  margin: 1.5rem 0 0;
  padding-bottom: 1rem; /* breathing room above footer */
}

/* Optional legacy batch card chrome (kept for compatibility) */
.wg-batch-card {
  border: 1px solid #e3e3e3;
  border-radius: 8px;
  padding: .75rem 1rem;
  background: #fff;
  margin-bottom: .75rem;
}
.wg-batch-head {
  display: flex;
  justify-content: space-between;
  margin-bottom: .5rem;
  font-weight: 600;
}

/* ===============================================================
   Page: Wargame â€“ Supervisor layout helpers
   =============================================================== */
.metrics-overview { display: flex; align-items: center; }
.metrics-overview .delimiter {
  width: 1px; background: #ccc; height: 4rem; margin: 0 1rem;
}
.super-metrics {
  display: flex; flex-wrap: wrap; gap: 1rem; align-items: center;
  justify-content: center; /* centers the three tiles */
}
.super-metrics .metric { min-width: 220px; text-align: center; }
.super-metrics .throughput { margin-left: auto; text-align: left; }

/* ===============================================================
   Modals (generic)
   =============================================================== */
.modal {
  position: fixed; inset: 0;
  background: rgba(0,0,0,0.4);
  display: flex; align-items: center; justify-content: center;
}
.modal-window {
  background: #fff; padding: 1rem; border-radius: 4px;
  width: 80%; max-width: 600px; position: relative;
  z-index: 1; /* keep above .modal .backdrop so it doesn't get blurred */
}
.modal-window { max-height: 85vh; overflow: auto; }
/* ---- Correction modal specific tweaks ---- */
.corr-window { max-width: 1080px; }
.corr-columns {
  display: grid;
  grid-template-columns: 1fr 1.25fr;
  gap: 0.8rem;
}
.corr-left .radio-content-box textarea[readonly] {
  background: #f9f9f9;
  color: #444;
}
.corr-tabs {
  display: flex; flex-wrap: wrap; gap: .4rem; margin: .25rem 0 .5rem;
}
.corr-tabs .corr-tab { padding: .35rem .6rem; }
.corr-forms .grid {
  display: grid;
  grid-template-columns: repeat(2, minmax(180px, 1fr));
  gap: .5rem .8rem;
}
.corr-forms label { display: block; font-size: .9rem; color: var(--muted); }
.corr-forms input, .corr-forms select, .corr-forms textarea {
  width: 100%;
  margin-top: .25rem;
  padding: .5rem;
  border: 1px solid #ccc;
  border-radius: var(--radius);
}
.corr-right .radio-content-box textarea {
  min-height: 8rem;
}
@media (max-width: 900px) {
  .corr-columns { grid-template-columns: 1fr; }
}

.modal-window .close-modal {
  position: absolute; top: .5rem; right: .5rem;
  background: none; border: none; font-size: 1.2rem; cursor: pointer;
}

/* Simple cards (generic/legacy) */
.card-container { display: flex; flex-wrap: wrap; gap: 1rem; margin-top: 1rem; }
.card { border: 1px solid #ccc; border-radius: .5rem; padding: .75rem; background: #fafafa; width: 280px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
.card ul { margin: .5rem 0 0 1rem; }
.card .item.done { opacity: .55; text-decoration: line-through; }
.separator { margin: 2rem 0; border: none; border-top: 1px solid #ddd; }

/* ===============================================================
   Page Header (clock + title) â€” allow two-row layout with filters
   =============================================================== */
.page-header-bar {
  display: flex;
  flex-wrap: wrap;           /* allow wrapping to a second row */
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: 1rem;
}
.page-header-bar .page-title { order: 0; font-size: 1.5rem; font-weight: bold; margin: 0; }
.page-header-bar .clock { order: 1; margin-left: auto; font-size: 1.5rem; color: var(--muted); margin: 0; }
/* Any form placed in the header flows to the second row automatically */
.page-header-bar form { order: 2; flex: 1 1 100%; margin-top: 0.35rem; }

/* ===============================================================
   Admin Console â€“ Embedded Tab URL row (RESTORED)
   =============================================================== */
.container.admin-console .embedded-config {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 1rem;
}
.container.admin-console .embedded-config input[type="text"] {
  flex: 1;
  padding: 0.6em;
  border: 1px solid #ccc;
  border-radius: var(--radius);
}

/* ===============================================================
   Responsive (mobile-first tweaks â‰¤ 600px)
   =============================================================== */
@media (max-width: 600px) {
  /* Global: extra bottom padding so content clears the footer */
  main.container { padding-bottom: 5rem; }

  /* Ramp Boss: one-column stack */
  .ramp-form-container { max-width: 100%; margin: 0.5rem auto; padding: 0.5rem; }
  .ramp-form-container form { display: block; }
  .ramp-form-container form > label {
    display: block; margin: 0.5rem 0 0.25rem; font-weight: bold;
  }
  .ramp-form-container form input,
  .ramp-form-container form select,
  .ramp-form-container form textarea,
  .ramp-form-container form .radio-toggle,
  .ramp-form-container form .lookup-row,
  .ramp-form-container form button[type="button"] {
    display: block; width: 100%; margin-bottom: 0.75rem;
  }
  .ramp-form-container .lookup-row { flex-wrap: wrap; gap: 0.5rem; }
  .ramp-form-container .lookup-row button { flex: 0 0 auto; }

  /* Nav wraps neatly */
  .main-nav { flex-wrap: wrap; gap: 0.5rem; }

  /* Preferences â†’ single column */
  .container.preferences { max-width: 100%; margin: 0.5rem auto; padding: 0.5rem; }
  .container.preferences form { display: block; }
  .container.preferences form > label {
    display: block; margin: 0.5rem 0 0.25rem; font-weight: bold;
  }
  .container.preferences form input,
  .container.preferences form select,
  .container.preferences form textarea,
  .container.preferences form button {
    display: block; width: 100%; margin-bottom: 0.75rem;
  }

  /* Advanced Inventory panel full-width on narrow screens */
  #adv-panel { left: 0; transform: none; width: 100%; padding: 1rem; }

  /* Wargame inventory sections naturally stack already (1fr) */
}
/* Supervisor: make difficulty/settings area narrower on 16:9 monitors */
.super-settings { max-width: 540px; margin: 0 auto; }

/* ===============================================================
   Page: Wargame Play â€” full-bleed stage between sticky header/footer
   (scoped to body.wargame_play to avoid touching other pages)
   =============================================================== */
body.wargame_play main.container,
body.wargame-play main.container {
  position: fixed;
  /* match the header/footer spacers used elsewhere (see main.container paddings) */
  top: 3.5rem;    /* header */
  bottom: 2.5rem; /* footer */
  left: 0;
  right: 0;
  padding: 0 !important;
  margin: 0 !important;
  max-width: none !important;
  background: #0f1115; /* match game bg so edges look seamless */
}
body.wargame_play #game-root,
body.wargame-play #game-root {
  position: absolute;
  inset: 0;           /* fill the fixed main pane */
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Wargame micro-utilities & scoped chrome
   (moved from inline <style> in base.html; scoped to avoid leaks)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
/* Tables & micro-utilities only apply inside Wargame or overlay root */
body.wargame .wg-table,
#wg-overlay-root .wg-table { width:100%; border-collapse:collapse; }
body.wargame .wg-table th, body.wargame .wg-table td,
#wg-overlay-root .wg-table th, #wg-overlay-root .wg-table td {
  padding:.5rem .6rem; border-bottom:1px solid #2b3440; text-align:left;
}
body.wargame .wg-table thead th,
#wg-overlay-root .wg-table thead th { color:#a9b6c8; font-weight:600; }
body.wargame .wg-mono, #wg-overlay-root .wg-mono {
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
}
body.wargame .wg-pill, #wg-overlay-root .wg-pill {
  display:inline-block; padding:.1rem .45rem; border:1px solid #3b4656; border-radius:.5rem; font-weight:600;
}
body.wargame .wg-flex, #wg-overlay-root .wg-flex { display:flex; }

/* Dark button chrome inside WG containers (overlay or #wg-modal only) */
#wg-overlay-root .wg-screen .btn,
#wg-overlay-root .wg-panel .btn,
#wg-modal .btn {
  padding:.4rem .7rem; border:1px solid #3b4656; border-radius:8px; background:#1a2230; color:#dbe7ff; cursor:pointer;
}
#wg-overlay-root .wg-screen .btn:disabled,
#wg-overlay-root .wg-panel .btn:disabled,
#wg-modal .btn:disabled { opacity:.5; cursor:not-allowed; }
#wg-overlay-root .wg-screen .btn-primary,
#wg-overlay-root .wg-panel .btn-primary,
#wg-modal .btn-primary { background:#0b5cff; border-color:#0b5cff; color:#fff; }

/* App-wide modal (#wg-modal) chrome */
#wg-modal.backdrop {
  position:fixed; inset:0; display:none; align-items:center; justify-content:center;
  background:rgba(0,0,0,.55); z-index:99998;
}
#wg-modal .card {
  width:min(1100px,96vw); max-height:85vh; min-width:800px; min-height:600px; overflow:auto;
  background:#0f1115; color:#e6eefc; border:1px solid #2b3440; border-radius:12px;
  box-shadow:0 10px 30px rgba(0,0,0,.5);
}
#wg-modal .msg { padding:14px 16px; font:600 16px system-ui, -apple-system, Segoe UI, Roboto, sans-serif; border-bottom:1px solid #2b3440; }
#wg-modal .body { padding:14px 16px; display:flex; flex-direction:column; align-items:center; }
#wg-modal .actions {
  display:flex; gap:.5rem; justify-content:flex-end; padding:12px 16px;
  border-top:1px solid #2b3440; position:sticky; bottom:0; background:#0f1115;
}

/* Plane Panel container (scoped to overlay root) */
#wg-overlay-root .wg-panel {
  width:min(1100px,96vw); max-height:88vh;
  background:#0f1115; color:#e6eefc; border:1px solid #2b3440; border-radius:12px;
  display:flex; flex-direction:column;
}
/* sticky header already exists, add only title font */
#wg-overlay-root .wg-title { font:600 16px system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
#wg-overlay-root .wg-grid  { display:grid; grid-template-columns: 1fr 1fr; gap:1rem; padding:1rem; overflow:auto; }
#wg-overlay-root .wg-col h3{ margin:.25rem 0 .5rem; color:#cbd9ee; }
#wg-overlay-root .wg-actions{ display:flex; gap:.5rem; justify-content:flex-end; margin-top:1rem; }
#wg-overlay-root .wg-iframe { width:100%; height:75vh; border:1px solid #232833; border-radius:6px; background:#0b0e13; }

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Wargame Overlay â€” bounded modal container under #wg-overlay-root
   (Overrides any generic .wg-screen rules via higher specificity.)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#wg-overlay-root{
  position: fixed;
  inset: 0;
  z-index: 1002;                  /* above header(1000)/footer */
  display: grid;
  place-items: center;            /* center on both axes */
  padding: 3.5rem 1rem 2.5rem;    /* safe area for sticky header/footer */
  pointer-events: none;           /* clicks only on children */
  font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
}
/* Backdrop appears only when overlay has children */
#wg-overlay-root::before{
  content:"";
  position: fixed;
  inset:0;
  background: rgba(0,0,0,.35);
  opacity: 0;
  transition: opacity .12s ease;
  pointer-events: none;
  z-index: 0;              /* sits behind bounded panel */
}
#wg-overlay-root.is-open::before{
  opacity: 1;
  pointer-events: auto;
}
/* Bounded screen container */
#wg-overlay-root .wg-screen{
  position: relative;
  margin: 0;                                /* grid handles centering */
  width: min(1100px, 96vw);
  max-height: min(85vh, calc(100vh - 6rem));/* keep it contained */
  display: flex;
  flex-direction: column;
  background: #0f1115;
  color: #e6eefc;
  border: 1px solid #2b3440;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,.50);
  overflow: hidden;
  pointer-events: auto;                    /* clickable even though root is not */
}
/* Plane Panel & popovers must also be clickable inside the overlay root */
#wg-overlay-root .wg-panel,
#wg-overlay-root .wg-pop,
#wg-overlay-root .wg-menu {
  pointer-events: auto;
  z-index: 1;                    /* over the root's ::before backdrop */
}

/* Nice-to-have: obvious cursor on any â€œPinâ€ control variants */
#wg-overlay-root .wg-table .pin-btn,
#wg-overlay-root .wg-table [data-action="pin"],
#wg-overlay-root .wg-table button[data-key="pin"],
#wg-overlay-root .wg-table button.pin {
  cursor: pointer;
}
#wg-overlay-root .wg-sticky{
  position: sticky;
  top: 0;
  display: flex;
  align-items: center;
  gap: .75rem;
  padding: .75rem 1rem;
  border-bottom: 1px solid #2b3440;
  background: #0f1115;
  z-index: 1;
}
#wg-overlay-root .wg-body{
  flex: 1 1 auto;
  min-height: 0;
  overflow: auto;
  background: #0f1115;
  padding: 10px;
}
/* Scroll lock while an overlay is open */
body.wg-scroll-lock{ overflow: hidden; }
/* Small screens: tighten chrome to keep content visible */
@media (max-width: 740px){
  #wg-overlay-root .wg-screen{
    margin: 1rem auto;
    width: 98vw;
    max-height: calc(100vh - 2rem);
    border-radius: 10px;
  }
}

/* Wargame Radio inbox: unread/read cues */
/* Support both legacy .wg-inbox and current .wg-radio-table */
table.wg-inbox thead th,
table.wg-radio-table thead th {
  background: var(--table-head-bg);
  color: var(--table-head-fg);
}
table.wg-inbox .unread-dot,
table.wg-radio-table .unread-dot,
table.wg-inbox .dot,
table.wg-radio-table .dot {
  display:inline-block; width:10px; height:10px; border-radius:50%; background:#c33;
}
table.wg-inbox tr.read .unread-dot,
table.wg-radio-table tr.read .unread-dot,
table.wg-inbox tr.read .dot,
table.wg-radio-table tr.read .dot { visibility:hidden; }
table.wg-inbox tr.read,
table.wg-radio-table tr.read { opacity: .8; }

/* Copy feedback (used on Send Flight & AOCT modal) */
.copy-feedback{
  margin-left: .5rem;
  color: #2e7d32;            /* green check */
  opacity: 0;
  transition: opacity .18s ease-in;
  font-weight: bold;
}
.copy-feedback.visible{ opacity: 1; }

/* Modal minor tweaks for AOCT */
.modal { display:flex; align-items:center; justify-content:center; }
.modal-window h3 { margin: 0 0 .25rem; }
.modal-window .lookup-row label { font-weight: bold; }

/* Radio modal */
.wg-modal {
  position: fixed;
  width: min(1200px, 98vw);
  border: 1px solid #ccc; border-radius: 8px; padding: 0;
}
.wg-modal-header {
  height: 36px; background: #fafafa; border-bottom: 1px solid #eee;
  display:flex; align-items:center; justify-content:flex-end; padding: 0 .5rem;
  cursor: move; /* drag handle */
}
.wg-modal-close {
  background: #c33; color: #fff; border: none; border-radius: 4px;
  width:28px; height:28px; font-size: 1.1rem; line-height: 1; cursor: pointer;
}
.wg-modal-body   { padding: 1rem; }
.wg-modal-subject{
  margin: 0 0 .5rem 0;
  white-space: nowrap;        /* prefer single line; allow horizontal scroll if needed */
  overflow-x: auto;
}
.wg-modal-pre    { white-space: pre-wrap; }

/* Fallback for the current <dialog id="emailDialog"> implementation */
#emailDialog {
  position: fixed;
  width: min(1200px, 98vw);
  border: 1px solid #ccc; border-radius: 8px; padding: 0;
}
#emailSubject { white-space: nowrap; overflow-x: auto; margin: 0 0 .5rem 0; }
#emailBody    { white-space: pre-wrap; max-height: 50vh; overflow: auto; margin: 0; }

/* â”€â”€ Wargame Inventory (scoped) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.wg-inventory .wg-card { background:#fff; border:1px solid #ddd; border-radius:8px; padding:.75rem; margin:.75rem 0; }
.wg-inventory .wg-card-head { font-size:.9rem; color:#555; margin-bottom:.35rem; }
.wg-inventory .lines { list-style:none; margin:.25rem 0 0; padding:0; }
.wg-inventory .lines li { display:flex; align-items:baseline; padding:.4rem 0; border-top:1px dashed #eee; }
.wg-inventory .lines li:first-child { border-top:0; }
.wg-inventory .lines .name { flex:1; }
.wg-inventory .lines .name small { color:#666; margin-left:.25rem; }
.wg-inventory .lines .meta { white-space:nowrap; margin-left:.75rem; font-variant-numeric:tabular-nums; }
.wg-inventory .lines li.done .name { text-decoration: line-through; opacity:.65; }

/* Wargame card lists (Inventory + Ramp) */
.card ul.tight { margin: 0.25rem 0 0; padding-left: 1.2rem; }
.card ul.tight li { margin: 0.15rem 0; }
.card ul.tight li.done { text-decoration: line-through; opacity: 0.65; }
/* Advancedâ€‘panel "chips" */
.adv-chip {
  display: inline-block;      /* let us size it */
  vertical-align: top;
  padding: 0.5em 0.75em;
  background: #fff;
  border: 2px solid #2e7d32;  /* consistent green border */
  border-radius: 16px;        /* rounded pill shape */
  white-space: normal;        /* ignore literal newlines in JS, use <br> */
  min-width: 12ch;            /* adjust up/down until your longest name + X fits */
  box-sizing: border-box;
}

/* style the remove button */
.adv-chip .chip-remove {
  margin: 0 0 0 0.5ch;        /* only leftâ€margin */
  padding: 0;                 /* no extra padding */
  background: none;
  border: none;
  font-size: 1.2em;           /* make the emoji a bit larger */
  line-height: 1;
  cursor: pointer;
  vertical-align: middle;     /* line up with the name text */
}
.adv-total-pill {
  /* for light mode, you probably inherit a darkâ€‘gray from your base.css */
  /* color: inherit;  // this is usually fine */
}

@media (prefers-color-scheme: dark) {
  .adv-total-pill {
    background: #111827;
    border-color: #374151;
    color: #f8fafc;    /* <-- force light text on dark bg */
  }
}
/* â”€â”€ Print Styles â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
@media print {
  /* â”€â”€ hide nav and our â€œPrintâ€ button â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  header, footer, .main-nav, .print-button { display: none !important; }

  /* â”€â”€ force white background & black text â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  body { background: #fff; color: #000; }

  /* â”€â”€ expand all <details> AND SHOW the summary labels â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  details { display: block !important; }
  details summary { display: list-item !important; }

  /* â”€â”€ kill all container gutters so we use the full page width â”€â”€ */
  .container,
  main.container { margin: 0 !important; padding: 0 !important; }

  /* â”€â”€ undo the â€œfull-bleedâ€ left/right shifts, print at 100% â”€â”€â”€â”€ */
  .full-bleed,
  body.dashboard .container #dashboard-table > table,
  body.radio .container #radio-table > table {
    position: static !important;
    width: 100% !important;
    left: auto !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* â”€â”€ wrap long cell contents instead of cutting them off â”€â”€â”€â”€â”€â”€â”€ */
  table { table-layout: fixed !important; }
  th, td { word-wrap: break-word !important; }

  /* â”€â”€ scale Dashboard down to 75% so it all fits on page â”€â”€â”€â”€â”€ */
  body.dashboard #dashboard-table {
    zoom: 0.55 !important;
  }

  /* â”€â”€ force page-break before each <details> in Inventory-Stock â”€ */
  /* that way each category starts on its own page after the first */
  body.inventory details + details {
    page-break-before: always !important;
  }

  /* Ensure queue action chrome is hidden when printing general pages */
  .queue-actions .more-menu { display: none !important; }
}
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   generic primary / secondary buttons
   (used by Ramp-Boss â€œSEND NOWâ€ / â€œAdd To Queueâ€)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
/* Primary â†’ reuse existing amber accent */
.btn-primary {
  background: var(--accent);
  border: 1px solid #d68504;
  color: #333;
}
.btn-primary:hover { filter: brightness(1.05); }

/* Secondary â†’ light royal-blue, readable with black text */
.btn-secondary {
  background: #5c9eff;          /* adjust tint as desired */
  border: 1px solid #4a88e2;
  color: #000;
}
.btn-secondary:hover { filter: brightness(1.07); }
/* â”€â”€ Ramp-Boss quick tweaks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€*/
.ramp-form-container .form-buttons {               /* span both grid columns */
  grid-column: 1 / -1;
}
.cargo-tools-toggle { flex-wrap: nowrap; }         /* keep on one line */

/* keep secondary button blue on hover */
.btn-secondary:hover{
  background: #6ea9ff;    /* a touch lighter */
  border-color: #5a95e0;
  filter: none;           /* cancel the generic yellow hover */
}
/* â”€â”€ Ramp-Boss â€œSend / Queueâ€ layout tweaks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€*/
.ramp-form-container .form-buttons{
  grid-column: 1 / -1;      /* span both grid columns */
  display: flex; gap: .5rem;
}
.ramp-form-container .form-buttons button{
  flex: 1 1 50%;            /* split row evenly */
  width: 0;                 /* prevent intrinsic width fights */
}

/* keep blue button blue on hover (override generic yellow filter) */
.btn-secondary:hover{
  background:#6ea9ff;       /* slightly lighter tint */
  border-color:#5a95e0;
  filter:none;
}
/* travel-time mini-row */
.travel-time-row input{min-width:3ch;text-align:center}
.travel-time-row span{font-weight:bold}
/* â€“â€“â€“â€“â€“ nicer icons in queue table â€“â€“â€“â€“â€“ */
.icon-btn{
  font-size:2.0em;           /* BIGGER = easier tap */
  line-height:1;
  text-decoration:none;      /* kill blue underline */
  color:inherit;             /* inherit current fg */
  cursor:pointer;
}
/* 1ï¸âƒ£ Banner styling */
.filter-banner {
  background: #00B8D8;            /* bright teal */
  color: white;
  text-transform: uppercase;
  font-size: 1.2rem;             /* larger text */
  font-weight: bold;
  padding: 1rem 0;               /* taller banner */
  text-align: center;
  border-radius: 4px 4px 0 0;    /* round top corners if you like */
  position: relative;            /* for the wiggle */
  z-index: 10;
}

/* 2ï¸âƒ£ Table border */
#dashboard-container.filtered table {
  border: 4px solid #00B8D8;     /* same teal */
  border-collapse: collapse;     /* or your existing style */
}

/* 3ï¸âƒ£ Wiggle keyframes */
@keyframes wiggle {
  0%   { transform: rotate(0deg);    }
  25%  { transform: rotate(5deg);    }
  50%  { transform: rotate(0deg);    }
  75%  { transform: rotate(-5deg);   }
  100% { transform: rotate(0deg);    }
}

/* 4ï¸âƒ£ Wiggle trigger class */
.filter-banner.wiggle {
  animation: wiggle 0.13s ease-in-out;
}
/* â”€â”€ Supervisor 2Ã—2 grid layout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.supervisor-dashboard {
  display: grid;
  grid-template-columns: 1fr 1fr;    /* two columns of equal width */
  grid-auto-rows: auto;              /* rows height will fit content */
  gap: 1rem;                         /* space between panels */
  margin: 1rem 0;                    /* some breathing room above/below */
}

/* make it single-column on narrow viewports */
@media (max-width: 800px) {
  .supervisor-dashboard {
    grid-template-columns: 1fr;
  }
}

/* panel "cards" styling */
.supervisor-panel {
  background: #fff;
  border: 1px solid #ccc;
  padding: 1rem;
  border-radius: 4px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}
/* Map panel needs a min-height so iframe doesn't collapse */
#supervisor-map {
  min-height: 350px;
}
@media (min-width: 801px) {
  #supervisor-map {
    min-height: 450px;
  }
}
/* Ensure supervisor dashboard tables don't overflow their panels */
.supervisor-panel table {
  width: 100%;
  table-layout: auto;
  overflow-x: auto;
}
/* In supervisor dashboard, forcibly remove full-bleed from tables */
.supervisor-panel .full-bleed {
  position: static !important;
  left: auto !important;
  width: 100% !important;
  margin-left: 0 !important;
  margin-right: 0 !important;
  box-sizing: border-box;
  padding: 0 !important;
}
#mappings-form {
  max-width: 568px;
  margin: 0 auto 2em auto;
  display: flex;
  flex-direction: column;
  gap: 0;
}

.mapping-row {
  display: flex;
  gap: 0.7em;
  align-items: center;
  margin-bottom: 8px;
}

.map-airport,
.map-callsign {
  flex: 1 1 45%;
  min-width: 0;
}

.remove-mapping {
  background: #eee;
  border: none;
  border-radius: 3px;
  font-size: 1.2em;
  padding: 0.2em 0.7em;
  cursor: pointer;
}

.block-btn {
  display: block;
  width: 100%;
  margin: 10px 0 0 0;
  padding: 0.4em;
  font-size: 1em;
  background: #ede9c5;
  border: none;
  border-radius: 0.5em;
}

.cc-row {
  display: flex;
  gap: 0.7em;
  margin: 14px 0 18px 0;
}

.map-cc {
  flex: 1 1 33%;
}

.save-mappings-btn {
  display: block;
  width: 100%;
  margin: 0 0 0 0;
  font-size: 1.1em;
  padding: 0.5em;
  background: #ede9c5;
  border: none;
  border-radius: 0.5em;
}
/* WinLink unread badge (Radio page) */
.wl-unread-badge{
  margin-left:.5rem;
  padding:.1rem .4rem;
  border-radius:.4rem;
  background:#c62828;
  color:#fff;
  font-weight:600;
  font-size:.85em;
}
/* generic â€œhiddenâ€ utility for JS toggles */
.hidden{
  display:none;
}

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Help panel (moved from inline <style> in base.html to keep CSS in /static)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#help-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.35);
  display: none;
  z-index: 10000;  /* above hamburger dropdown (9999) */
}
#help-panel {
  position: fixed;
  top: 0; right: 0;
  width: min(680px, 100%);
  height: 100%;
  background: #fff;
  box-shadow: -4px 0 16px rgba(0,0,0,.25);
  display: none;
  z-index: 10001;  /* above help backdrop */
  overflow: auto;
}
#help-panel header {
  position: sticky;
  top: 0;
  background: #fff;
  padding: 12px 14px;
  border-bottom: 1px solid #eee;
  display: flex;
  align-items: center;
  gap: 8px;
}
#help-title {
  font-weight: 700;
  font-size: 18px;
  margin: 0;
  flex: 1;
}
#help-body { padding: 14px; line-height: 1.45; }
#help-edit { display: none; padding: 14px; }
#help-edit textarea {
  width: 100%;
  min-height: 50vh;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
}
.help-actions { display: flex; gap: 8px; }

/* Button styles for Help panel controls (scoped utility) */
.button-ghost {
  background: transparent;
  border: 1px solid #ddd;
  padding: 6px 10px;
  border-radius: 6px;
}
.button-primary {
  background: var(--accent);
  color: var(--brand);
  border: 1px solid #d68504;
  padding: 8px 12px;
  border-radius: 6px;
  font-weight: 600;
}

/* --- added by fix_all_patches.py: ensure all flash categories render visibly --- */
.toast.message { background: #4caf50; }  /* default Flask category */
.toast.warning { background: #ff9800; }
.toast.import  { background: #673ab7; }
.toast.db_reset{ background: #9c27b0; }
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Shift Check-In modal polish
   Targets either a root with class .modal or #checkin-modal.
   Keeps styles scoped so the rest of the site isnâ€™t affected.
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* design tokens (scoped) */
.modal, #checkin-modal {
  --aoct-bg: #0f1115;
  --aoct-panel: #1a1f24;
  --aoct-border: #2a2f36;
  --aoct-muted: #9aa4b2;
  --aoct-text: #e6edf3;
  --aoct-field: #0f1318;
  --aoct-focus: #3b82f6;     /* blue focus ring */
  --aoct-accent: #16a34a;    /* green primary */
  --aoct-accent-hover: #15803d;
  --aoct-secondary: #20262d;
  --aoct-shadow: 0 18px 60px rgba(0,0,0,.60);
}

/* backdrop (if your markup uses a separate element for it) */
.modal .backdrop,
#checkin-modal .backdrop {
  /* sit inside the modal container so the panel can stack above */
  position: absolute;
  inset: 0;
  background: rgba(0,0,0,.45);
  -webkit-backdrop-filter: blur(1px);
  backdrop-filter: blur(1px);
  z-index: 0;
  /* never eat clicks from the panel */
  pointer-events: none;
}

/* panel/card */
.modal .card,
#checkin-modal,
#checkin-modal .card {
  background: var(--aoct-panel);
  color: var(--aoct-text);
  border: 1px solid var(--aoct-border);
  border-radius: 12px;
  box-shadow: var(--aoct-shadow);
  position: relative;
  z-index: 1;
  /* comfortable default width */
  width: min(640px, 92vw);
  padding: 1.25rem 1.25rem 1rem;
}

/* header + helper text */
.modal h3,
#checkin-modal h3 {
  margin: 0 0 .25rem 0;
  font-size: 1.25rem;
  line-height: 1.3;
  font-weight: 700;
}
/* â”€â”€ Modal layout glue (container) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
/* The container itself is fixed and centers the card; JS toggles display */
#checkin-backdrop.modal {
  position: fixed;
  inset: 0;
  display: none;               /* JS sets to 'flex' to open */
  align-items: center;
  justify-content: center;
  z-index: 1000;
}
.modal .muted,
#checkin-modal p,
#checkin-modal .muted {
  margin: 0 0 .75rem 0;
  color: var(--aoct-muted);
}

/* labels + fields */
.modal label,
#checkin-modal label {
  display: block;
  font-size: .875rem;
  color: var(--aoct-muted);
  margin: .25rem 0 .35rem;
}
.modal input[type="text"],
.modal input[type="search"],
.modal input[type="email"],
.modal input[type="tel"],
.modal select,
.modal textarea,
#checkin-modal input,
#checkin-modal select,
#checkin-modal textarea {
  width: 100%;
  background: var(--aoct-field);
  color: var(--aoct-text);
  border: 1px solid var(--aoct-border);
  border-radius: 8px;
  padding: .6rem .7rem;
  line-height: 1.3;
}
.modal input:focus,
.modal select:focus,
.modal textarea:focus,
#checkin-modal input:focus,
#checkin-modal select:focus,
#checkin-modal textarea:focus {
  outline: none;
  border-color: var(--aoct-focus);
  box-shadow: 0 0 0 3px color-mix(in oklab, var(--aoct-focus) 25%, transparent);
}

/* action row */
.modal .actions,
#checkin-modal .actions {
  display: flex;
  gap: .5rem;
  justify-content: flex-end;
  margin-top: .9rem;
}

/* buttons (scoped, so it wonâ€™t restyle every .button on the site) */
.modal .button,
.modal .btn,
#checkin-modal .button,
#checkin-modal .btn {
  border-radius: 8px;
  padding: .55rem 1rem;
  border: 1px solid var(--aoct-border);
  font-weight: 600;
  text-decoration: none;
}
.modal .button.primary,
.modal .btn-primary,
#checkin-modal .button.primary,
#checkin-modal .btn-primary {
  background: var(--aoct-accent);
  color: #fff;
  border-color: transparent;
}
.modal .button.primary:hover,
.modal .btn-primary:hover,
#checkin-modal .button.primary:hover,
#checkin-modal .btn-primary:hover { background: var(--aoct-accent-hover); }

.modal .button.secondary,
.modal .btn-secondary,
#checkin-modal .button.secondary,
#checkin-modal .btn-secondary {
  background: var(--aoct-secondary);
  color: var(--aoct-text);
}
/* â”€â”€ Check-In modal layout glue â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#checkin-backdrop.modal {
  position: fixed;
  inset: 0;
  display: none;                 /* JS sets style.display = 'flex' to open */
  align-items: center;
  justify-content: center;
  z-index: 1000;
}
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Help system (navbar button + content polish)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#help-button {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 2rem;
  min-width: 2rem;
  padding: 0 .6rem;
  margin-left: .5rem;
  border-radius: 999px;
  background: var(--accent);
  border: 1px solid #d68504;
  color: #333;
  font-weight: 700;
  text-decoration: none;
  line-height: 1;
  cursor: pointer;
}
#help-button:hover { filter: brightness(1.05); }

/* If you show help inside a modal, keep the body scrollable and readable */
.help-content {
  max-height: calc(100vh - 10rem);
  overflow: auto;
}
.help-content h1, .help-content h2, .help-content h3 { margin: .6rem 0 .35rem; }
.help-content p, .help-content ul, .help-content ol { margin: .5rem 0; }
.help-content ul, .help-content ol { padding-left: 1.25rem; }

/* Optional: a simple left-rail list for topics */
.help-topics {
  list-style: none;
  padding: 0;
  margin: 0 0 1rem 0;
}
.help-topics li + li { margin-top: .25rem; }
.help-topics a {
  display: block;
  text-decoration: none;
  padding: .35rem .5rem;
  border-radius: var(--radius);
  color: var(--fg);
}
.help-topics a:hover { background: rgba(0,0,0,.05); }

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Help Markdown rendering (backend wraps content in .help-md)
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#help-body .help-md { line-height: 1.55; }
#help-body .help-md h1,
#help-body .help-md h2,
#help-body .help-md h3 { margin: 1.1em 0 .45em; }
#help-body .help-md p { margin: .6em 0; }
#help-body .help-md ul, #help-body .help-md ol { margin: .6em 0 .6em 1.2em; padding-left: 1.2em; }
#help-body .help-md table { border-collapse: collapse; margin: .8em 0; width: 100%; }
#help-body .help-md th, #help-body .help-md td { border: 1px solid #ddd; padding: .4em .6em; }
#help-body .help-md blockquote { border-left: 4px solid #ddd; margin: .8em 0; padding: .4em .8em; color: #555; }
#help-body .help-md pre {
  background: #f6f8fa;
  padding: .75rem;
  overflow: auto;
  border-radius: 6px;
}
#help-body .help-md code {
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
}
#help-body .help-md img { max-width: 100%; height: auto; }
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Advanced Cargo Entry/Edit (ADV Panel only)
   - Narrow the panel so controls don't stretch across the screen
   - Stack the ADV Line Form fields vertically (Category / Item / Size / Qty)
   NOTE: scoped to #adv-panel so the main Ramp Boss form is unaffected.
   Supports either #adv-line-form (id) or .adv-line-form (class).
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */

/* Make the ADV panel itself narrower on desktop; keep mobile friendly */
#adv-panel {
  width: min(820px, 95vw);
}

/* Stack the line editor fields into a single column */
#adv-panel .adv-line-form,
#adv-panel #adv-line-form {
  display: grid !important;
  grid-template-columns: 1fr;
  gap: .6rem;
  align-items: start;
}

/* If the template reused a â€œlookup-rowâ€ flex row inside the line form, disable it here */
#adv-panel .adv-line-form .lookup-row,
#adv-panel #adv-line-form .lookup-row {
  display: block !important;
}

/* Make inputs/selects fill the available column width cleanly */
#adv-panel .adv-line-form select,
#adv-panel .adv-line-form input[type="text"],
#adv-panel .adv-line-form input[type="number"],
#adv-panel #adv-line-form select,
#adv-panel #adv-line-form input[type="text"],
#adv-panel #adv-line-form input[type="number"] {
  width: 100%;
  min-width: 0;
}

/* Keep the â€œAddâ€ button compact and aligned at the top of the stack */
#adv-panel .adv-line-form .add-line,
#adv-panel #adv-line-form .add-line,
#adv-panel .adv-line-form button[type="submit"],
#adv-panel #adv-line-form button[type="submit"] {
  width: auto;
  align-self: start;
}

/* === Cargo Requests FAB + Drawer ===================================== */
.fab-requests{
  position: fixed;
  right: 1rem;
  bottom: 1rem;
  z-index: 1040;
  border: none;
  border-radius: 999px;
  padding: .6rem .9rem;
  background: #0b5ed7;
  color: #fff;
  box-shadow: 0 6px 16px rgba(0,0,0,.2);
  cursor: pointer;
}
.fab-requests .badge{
  display: inline-block;
  margin-left: .5rem;
  padding: .1rem .45rem;
  font-weight: 700;
  border-radius: 999px;
  background: #fff;
  color: #0b5ed7;
}

.req-overlay{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.35);
  z-index: 1035;
}

.req-drawer{
  position: fixed;
  top: 0;
  right: 0;
  height: 100%;
  width: min(380px, 92vw);
  background: #fff;
  box-shadow: -8px 0 24px rgba(0,0,0,.18);
  transform: translateX(100%);
  transition: transform .2s ease-out;
  z-index: 1045;
  display: flex;
  flex-direction: column;
}
.req-drawer.open{ transform: translateX(0); }

.req-drawer-header{
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: .75rem .9rem;
  border-bottom: 1px solid #e5e5e5;
}
.req-close{
  background: none;
  border: none;
  font-size: 1.1rem;
  cursor: pointer;
}

.req-body{
  padding: .75rem .9rem 1rem;
  overflow: auto;
  flex: 1 1 auto;
}

.req-group{
  border: 1px solid #e8e8e8;
  border-radius: .5rem;
  margin-bottom: .6rem;
  overflow: hidden;
}
.req-group-h{
  background: #fafafa;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: .5rem .6rem;
  border-bottom: 1px solid #eee;
}
.req-group-title{ font-weight: 700; }
.req-group-actions .button.small{ padding: .15rem .45rem; font-size: .85rem; }

.req-items{ padding: .45rem .6rem; }
.req-row{
  display: flex; align-items: center; justify-content: space-between;
  padding: .35rem 0; border-bottom: 1px dashed #eee;
}
.req-row:last-child{ border-bottom: 0; }
.req-row-name{ font-weight: 600; }
.req-row-meta{ opacity: .75; font-size: .92rem; }
.req-empty{ opacity: .7; padding: .25rem 0; }

/* === Modal positioning guard (do not force top-left) ================== */
.wg-modal{
  /* allow explicit left/top + translate centering from JS */
  position: fixed;
}
/* â”€â”€ Training page scoping: ensure full-width cards inside the training container â”€â”€ */
.training-wrap .card {
  width: 100% !important;
  max-width: none !important;
}

/* â”€â”€ Weather page: METAR panel should use full-width cards â”€â”€ */
#metar-panel .card {
  width: 100% !important;
  max-width: none !important;
}

/* Expired tag in request history */
.wx-expired{
  color:#b00020;
  font-weight:700;
}

/* â”€â”€ Weather: compact ICAO entry â”€â”€ */
#metar-ids{
  width: 14ch;          /* ~6â€“8 chars + wiggle room */
  min-width: 10ch;
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
}

/* Ensure Training directory controls float above footer comfortably */
#dir-controls {
  bottom: 4.25rem !important; /* sits above sticky footer */
}
/* â”€â”€â”€ Cargo Requests drawer: make rows look clickable â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.req-group-h {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: .45rem .6rem;
  cursor: pointer;
  user-select: none;
}
.req-group-h:hover { background: #f6f8fb; }

/* caret indicator */
details.req-group > summary.req-group-h::-webkit-details-marker { display: none; }
details.req-group > summary.req-group-h::before {
  content: "â–¸";
  margin-right: .4rem;
  transition: transform .16s ease;
  opacity: .8;
}
details.req-group[open] > summary.req-group-h::before { transform: rotate(90deg); }

/* header layout:  KELN  Â·  N items  Â·  X lb   â€¦ [Clear Airport] */
.req-group-left {
  display: inline-flex;
  align-items: baseline;
  gap: .6rem;
}
.req-group-title {
  font-weight: 600;
  letter-spacing: .02em;
}
.req-group-stats {
  display: inline-flex;
  align-items: baseline;
  gap: .4rem;
  font-size: .92em;
  opacity: .85;
}
.req-group-right { margin-left: auto; }

/* non-modal: keep page interactive & undimmed while drawer is open */
.req-overlay {
  display: none !important;       /* no backdrop, no darkening */
  pointer-events: none !important;
}
/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ Cargo Requests: stock-match borders on requested rows â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
.req-row.match-ok,
.req-row.match-partial { border: 2px solid #2e7d32; border-radius: 10px; }

/* â”€â”€â”€â”€â”€â”€â”€â”€â”€ Advanced chips: green border ONLY when fulfilling a request â”€â”€â”€â”€â”€ */
.adv-chip.fulfill-req { border: 2px solid #2e7d32 !important; border-radius: 16px; }

/* ===============================================================
   Setup Wizard (scoped overrides so Add Mapping stacks vertically)
   =============================================================== */
/* Scope to this pageâ€™s form so we don't affect Preferences/Ramp/etc. */
#setup-wizard-form .wizard-mapping-section{
  grid-column: 1 / -1 !important;  /* span all columns if parent is a grid */
  display: block !important;       /* kill any inherited grid/flex */
}
#setup-wizard-form #airport-mappings{
  display: block !important;       /* rows stack naturally */
}
#setup-wizard-form .wizard-add-btn{
  display: block !important;
  width: 100% !important;
  grid-column: 1 / -1 !important;  /* never sit beside a label column */
  justify-self: stretch !important;
  margin-top: 8px;
}
/* If any global rule targets direct children (form > button), dodge it: */
#setup-wizard-form > button[type="button"]{ grid-column: 1 / -1 !important; }

/* ===============================================================
   Page: Weather â€“ grid & card layout
   =============================================================== */
.wx-toolbar{
  display:flex;
  flex-wrap:wrap;
  gap:.75rem;
  align-items:center;
  margin:.5rem 0 1rem;
}
.wx-request-box{
  display:flex;
  gap:.5rem;
  align-items:center;
  border:1px solid #ddd;
  padding:.5rem .75rem;
  border-radius:8px;
  background:#fff;
}
.wx-inline{
  display:inline-flex;
  gap:.25rem;
  align-items:center;
  margin-left:.25rem;
}
.wx-status{
  font-size:12px;
  color:var(--muted);
}
.wx-cards{
  display:grid;
  grid-template-columns:repeat(4, minmax(0, 1fr));
  gap:0;                 /* no spacing between cards */
  width:100%;
}
.wx-card{
  border:1px solid #ddd;
  border-right:0;        /* inner vertical borders only */
  border-bottom:0;       /* inner horizontal borders */
  padding:0;
  background:#fff;
  overflow:hidden;
}
/* Restore right border on every 4th card to close the row */
.wx-cards > .wx-card:nth-child(4n){
  border-right:1px solid #ddd;
}
.wx-card__meta{
  padding:8px 10px;
  border-bottom:1px solid #eee;
  font-size:14px;
  line-height:1.3;
}
.wx-name{ font-weight:600; }
.wx-sub { color:#666; font-size:12px; }
.wx-card--image img{
  display:block;
  width:100%;
  height:auto;
  object-fit:contain;
}
/* Text product spans full width of the 4 image columns */
.wx-card--text{
  grid-column:1 / -1;
  border-right:1px solid #ddd; /* close the row edge */
}
.wx-textbody{
  white-space:pre-wrap;
  font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;
  min-height:8em;
  padding:12px;
  background:#fafafa;
  border-top:1px solid #eee;
}
.wx-upload{
  padding:10px 12px;
  border-top:1px solid #eee;
}
.wx-preview{
  margin-top:8px;
}
.wx-preview-body{
  margin-top:8px;
  display:grid;
  gap:.75rem;
}
/* â”€â”€ Hard-disable visible debug HUD/panels in Wargame UI â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
#wg-debug,
.wg-debug,
[data-wg-debug],
.wg-debug-hud {
  display: none !important;
  visibility: hidden !important;
}
