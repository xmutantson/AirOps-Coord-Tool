<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Aircraft Dashboard</title>
</head>
<body>

{% extends "base.html" %}
{% block title %}Dashboard â€“ Aircraft Ops{% endblock %}
{% block content %}

<h2>Aircraft Ops Dashboard</h2>
  <div id="dashboard-table">
    {% include 'partials/_dashboard_table.html' %}
  </div>

<script>
  async function refreshDashboard(){
    try {
      const resp = await fetch('{{ url_for("dashboard_table_partial") }}');
      if (!resp.ok) throw new Error(resp.status);
      document.getElementById('dashboard-table').innerHTML = await resp.text();
    } catch(err){
      console.error("Dashboard refresh failed:", err);
    }
  }
  // Refresh every 30 seconds:
  setInterval(refreshDashboard, 30_000);
</script>

{% endblock %}
</body>
</html>
