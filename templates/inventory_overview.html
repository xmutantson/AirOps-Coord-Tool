{% extends "base.html" %}
{% block title %}Inventory Overview ‚Äì Aircraft Ops{% endblock %}

{% block content %}
<button type="button"
          class="print-button"
          onclick="window.print()" style="margin-left:1rem;">üñ®Ô∏è Print</button>

  <h2>Inventory Overview</h2>
  <div id="inventory-table"><!-- table loads here --></div>

  <!-- buttons to jump to the detail/entry page or manage categories -->
  <div class="lookup-row" style="margin-top:1rem; gap:1rem;">
    <button type="button"
            onclick="location.href='{{ url_for('inventory.inventory_detail') }}'">
      Manage Inventory
    </button>
    <button type="button"
            onclick="location.href='{{ url_for('inventory.inventory_stock') }}'">
      View Stock
    </button>
    <button type="button"
            onclick="location.href='{{ url_for('inventory.inventory_categories') }}'">
      Add Category
    </button>
    <button type="button"
            onclick="location.href='{{ url_for('inventory.inventory_barcodes_admin') }}'">
      Edit Barcode DB
    </button>
  </div>
  <script>
    async function loadInventoryOverview() {
      const resp = await fetch("{{ url_for('inventory.inventory_overview_table') }}");
      document.getElementById("inventory-table").innerHTML = await resp.text();
    }
    // initial load + refresh every 60s
    loadInventoryOverview();
    setInterval(loadInventoryOverview, 60_000);
  </script>
{% endblock %}
