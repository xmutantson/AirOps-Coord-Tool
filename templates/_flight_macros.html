{# templates/_flight_macros.html #}

{% macro flight_row(f, hide_tbd) -%}
<tr class="clickable{% if f.is_ramp_entry and f.sent == 0 %} yellow-border{% endif %}">
  <td>
    <a href="{{ url_for('edit_flight', fid=f.id) }}">{{ f.id }} âœï¸</a>
  </td>
  <td class="status">
    {% if f.complete %}ğŸ›¬ Landed{% else %}âœˆï¸ In-Flight{% endif %}
  </td>
  {%- for field in [
       'tail_number','pilot_name','pax_count',
       'origin_view','takeoff_time','dest_view',
       'eta_view','cargo_type','cargo_view','remarks'
     ] %}
    <td>
      {%- if hide_tbd %}
        {{ f[field] | hide_tbd }}
      {%- else %}
        {{ f[field] or 'TBD' }}
      {%- endif %}
    </td>
  {%- endfor %}
</tr>
{%- endmacro %}


{% macro radio_row(f, hide_tbd) -%}
<tr class="clickable{% if f.sent == 0 %} yellow-border{% endif %}"
    onclick="location.href='{{ url_for('radio_detail',fid=f.id) }}'">
  <td>{{ f.id }}</td>
  <td class="status">{% if f.complete %}ğŸ›¬{% else %}âœˆï¸{% endif %}</td>
  {%- for field in [
       'tail_number','pilot_name','pax_count',
       'origin_view','takeoff_time','dest_view',
       'eta_view','cargo_type','cargo_view','remarks'
     ] %}
    <td>
      {%- if hide_tbd %}
        {{ f[field] | hide_tbd }}
      {%- else %}
        {{ f[field] or 'TBD' }}
      {%- endif %}
    </td>
  {%- endfor %}
</tr>
{%- endmacro %}
